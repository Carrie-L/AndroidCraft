

.small-title{
  font-size: 16px !important;
  font-weight: 600;
  letter-spacing: 0.5px;
  color: var(--md-accent);
  border-bottom: 1px solid var(--md-accent);
  padding-bottom: 3px;
}

.middle-title{
  font-size: 16px !important;
  font-weight: 600;
  letter-spacing: 0.5px;
  color: var(--md-accent);
  border-bottom: 1px solid var(--md-accent);
  padding-bottom: 3px;
}


/* =========================================
 *  杂志风 Markdown 主题（Magazine Style）
 *  从用户提供样式整理而来，作为全局 markdown.css 使用
 * ========================================= */

/* 1. 杂志风主题变量：挂在 .app[data-mdtheme="magazine"] 上 */
.app[data-mdtheme="magazine"] {
  --md-bg: #ffffff;
  --md-fg: #1a1a1a;
  /* 主体文本颜色，缺失时会导致 var(--md-text) 失效，这里与 fg 保持一致 */
  --md-text: #1a1a1a;
  --md-muted: #666666;
  --md-accent: #000000;
  --md-border: #e5e5e5;
  --md-code-bg: #ffffff;
  --md-code-fg: #212121;
  --md-quote-bg: #fafafa;
  --md-quote-bar: #000000;
  --md-table-stripe: #f9f9f9;
}

/* 杂志风标题：仅作用于 markdown 正文里的标题，避免干扰全站 UI */
.app[data-mdtheme="magazine"] .markdown-body h1,
.app[data-mdtheme="magazine"] .markdown-body h2,
.app[data-mdtheme="magazine"] .markdown-body h3 {
  text-align: left;
  font-weight: 600;
  letter-spacing: 0.5px;
  border-bottom: 1px solid var(--md-accent);
  padding-bottom: 2px;
  font-size: 18px;
}

.app[data-mdtheme="magazine"] .markdown-body h4 {
  text-align: left;
  font-weight: 600;
  letter-spacing: 0.5px;
  padding-bottom: 2px;
  font-size: 16px;
}

/* ========================================= */
/*       Markdown 基础排版（使用 CSS 变量）  */
/* ========================================= */

.app .markdown-body {
  background: transparent;
  line-height: 1.7em;
  font-size: 14px;
  word-wrap: break-word;
  color: var(--md-text);
  /* 使用落霞文楷作为正文字体，向下兼容系统字体 */
  font-family: "LXGWWenKai-Light", "LXGW WenKai", system-ui, -apple-system,
    BlinkMacSystemFont, "Segoe UI", sans-serif;
}

.markdown-body ruby {
  ruby-position: over; /* 确保注音在上面（有些浏览器支持 under） */
}

.markdown-body rt {
  font-size: 12px; /* 和正文一样大 */
  font-family: "Noto Sans JP", "Yu Gothic", sans-serif;
  letter-spacing: 0.08em;
  margin-top: 8px;
}

/* 编辑 / 预览区域背景（如果将来需要，可复用这些类名） */
.app .preview,
.app .editor {
  background: var(--md-bg) !important;
  color: var(--md-text);
}

/* 微信预览区（保留原语义） */
.app .wechat-export {
  background: var(--md-bg) !important;
  color: var(--md-fg);
}

/* 标题层级样式 */
.markdown-body h1,
.markdown-body h2,
.markdown-body h3 {
  line-height: 1;
  margin: 1em 0 0 0;
  font-weight: 600;
}

.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  line-height: 1.8;
  margin: 2em 0 0 0;
  font-weight: 500;
}

.markdown-body h1 {
  font-size: 28px;
}

.markdown-body h2 {
  font-size: 24px;
}

.markdown-body h3 {
  font-size: 20px;
}

.markdown-body h4 {
  font-size: 18px;
  color: var(--md-accent);
}

.markdown-body h5 {
  font-size: 16px;
}

.markdown-body h6 {
  font-size: 16px;
  color: var(--md-muted);
}

/* 段落与列表 */
.markdown-body p {
  margin: 1em 0;
  overflow-wrap: break-word !important;
}

.markdown-body ul,
.markdown-body ol {
  padding-left: 1.4em;
  margin: 0.3em 0;
}

.markdown-body li {
  margin: 1em 0.3em;
}

/* todolist */
.markdown-body li:has(input[type="checkbox"]) {
  list-style: none;
  vertical-align: middle; /* 垂直居中对齐 */
}

.markdown-body li input[type="checkbox"] {
  transform: scale(1.2); /* 只放大复选框，不影响文字 */
  transform-origin: center; /* 从中间放大，不会偏移 */
}

/* 链接 */
.markdown-body a {
  color: var(--md-accent);
  text-decoration: none;
}

.markdown-body a:hover {
  text-decoration: underline;
}

/* 引用 */
.markdown-body blockquote {
  margin: 2em 0;
  padding: 1px 1em;
  background: var(--md-quote-bg);
  border-left: 4px solid var(--md-quote-bar);
  color: var(--md-fg);
  font-size: 14px;
}

/* 分割线 */
.markdown-body hr {
  border: 0;
  height: 1px;
  background: var(--md-border);
  margin: 1.5em 0;
}

/* 表格 */
.markdown-body table {
  border-collapse: collapse;
  width: 100%;
  margin: 2em 0;
  border: 1px solid var(--md-border);
}

.markdown-body th,
.markdown-body td {
  border: 1px solid var(--md-border);
  padding: 0.6em 0.8em;
  text-align: left;
}

.markdown-body thead th {
  background: var(--md-quote-bg);
}

.markdown-body tbody tr:nth-child(even) {
  background: var(--md-table-stripe);
}

.markdown-body th[align="center"],
.markdown-body td[align="center"] {
  text-align: center;
}

.markdown-body th[align="right"],
.markdown-body td[align="right"] {
  text-align: right;
}

/* 行内代码 */
.markdown-body :not(pre) > code {
  background: var(--md-code-bg);
  color: var(--md-code-fg);
  border: 1px solid var(--md-border);
  padding: 0.02em 0.4em;
  border-radius: 4px;
  font-family: "LXGW WenKai", Menlo, Consolas, "Courier New", monospace;
  font-size: 13px;
  margin: 0 0.1em;
  font-weight: 500;
}

/* 代码块（不覆盖 hljs 的配色，主要做容器与滚动） */
.markdown-body pre {
  margin: 1em 0;
  padding: 0; /* 内边距交给 hljs 主题或者下面的 code 设置 */
  overflow: auto;
  border-radius: 8px;
  background: var(--md-code-bg);
  border: 1px solid var(--md-border);
}

.markdown-body pre code.hljs {
  padding: 1em;
  font-family: Menlo, Operator Mono, Consolas, Monaco, monospace;
  border-radius: 8px;
  line-height: 1.7;
  font-size: 90%;
  white-space: pre !important; /* 不换行，保持代码原样 */
  word-break: normal;
  letter-spacing: normal; /* 重置字间距 */
}

/* ========================================= */
/* Highlight.js 样式修正                     */
/* ========================================= */

/* 1. 解决 fun/class 关键字与其后标识符的空格丢失问题
 *    例如："funobserveArticles" -> "fun observeArticles"
 */
.hljs-function .hljs-keyword + .hljs-title,
.hljs-keyword + .hljs-title.class_ {
  margin-left: 0.5em; /* 添加一个水平间距来模拟空格 */
}

/* 2. 解决单行注释后的换行符丢失问题（精确版）
 *    使用 ::before 伪元素插入一个换行符，而不改变元素本身的 display 属性
 */
.hljs-comment {
  white-space: pre-wrap; /* 保留换行和空格，自动换行 */
}


