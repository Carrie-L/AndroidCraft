

# 1.2.1 垂直排列 (Column)

## 1. 核心理论：Y 轴上的排版艺术

### 1.1 为什么需要 Column？
在 1.1 节的实战中，你可能发现了一个尴尬的现象：如果你连续写两个 `Text()`，它们会像叠罗汉一样**重叠**在屏幕左上角 (0,0) 的位置。

这是因为 Compose 的默认行为是**“堆叠”**。它不知道你想要把它们分开。
*   **传统 XML**：`LinearLayout` (`orientation="vertical"`)
*   **Compose**：`Column`

`Column`（列）是一个容器组件。它的唯一使命就是：**把它的子元素，沿着 Y 轴（垂直方向），一个接一个地摆放。**

### 1.2 布局算法原理：Measure & Place
为什么 `Column` 能做到这一点？我们可以看看它内部的**测量 (Measure) 与放置 (Place)** 逻辑（简化版）：

1.  **询问 (Measure)**：Column 问第一个子元素：“你需要多大地方？”
2.  **记录**：第一个子元素说：“我要 50 高”。Column 记下：当前 Y 坐标用了 50。
3.  **询问下一个**：Column 问第二个子元素：“你呢？”（注意，此时给第二个子元素的空间已经少了 50）。
4.  **放置 (Place)**：
    *   把子元素 A 放在 `y = 0`。
    *   把子元素 B 放在 `y = 50`。
    *   ...以此类推。

这就是为什么你不需要手动算坐标，`Column` 帮你算好了“下一个元素该放哪”。

### 1.3 尺寸行为：包裹 (Wrap) vs 填充 (Fill)
默认情况下，`Column` 的尺寸行为非常“克制”：
*   **宽度**：它会看“最宽”的那个子元素有多宽，它就撑到多宽（Wrap Content）。
*   **高度**：它会看所有子元素加起来有多高，它就撑到多高（Wrap Content）。

如果你想让 Column 占满整个屏幕，你需要显式地告诉它（后面学的 Modifier 会讲到）。

---

## 2. 知识测验 (Quiz)

### 问题 1 [视觉预测]
阅读以下代码，请画出（或脑补）它在屏幕上的大概样子。

```kotlin
Column {
    Text("苹果")
    Text("香蕉")
    Column {
        Text("A级")
        Text("B级")
    }
}
```

**选项：**
A. 四行文字，从上到下依次是：苹果、香蕉、A级、B级。
B. 三行文字，第三行显示“A级 B级”。
C. 两行文字，它们都叠在一起了。

> **思考后翻看答案**
>
> **答案：A**
> **解析**：
> 1. 外层 Column 先放“苹果”。
> 2. 在“苹果”下面放“香蕉”。
> 3. 在“香蕉”下面放内层 Column。
> 4. 内层 Column 也是垂直排列，所以在它内部，A级和 B级 也是上下排列的。
> 最终效果就像一个垂直的清单。这体现了**布局的可组合性 (Composability)**——容器里可以套容器。

### 问题 2 [原理辨析]
为什么在 `Column` 内部的 `Text` 不需要设置 Y 坐标？

A. 因为 `Text` 组件自带智能定位功能。
B. 因为 `Column` 的布局算法会自动修改子元素的 `y` 坐标偏移量。
C. 因为屏幕不够大，只能显示在 (0,0)。

> **答案：B**
> **解析**：这就是布局容器的作用。子元素本身不知道自己会被放在哪，是父容器（Column）在“放置 (Place)”阶段决定了子元素的坐标。

---

## 3. 编码实战 (Code Lab)

**任务目标**：构建一个包含标题和内容的“书籍信息卡片”。

### 步骤 1：搭建骨架
在 `MainActivity` 中定义一个名为 `BookCard` 的组件。
使用 `Column` 作为根容器。

```kotlin
@Composable
fun BookCard() {
    Column {
        // 稍后填充内容
    }
}
```

### 步骤 2：填充内容
在 `Column` 的花括号（Lambda 块）中，添加两个 `Text` 组件。
*   第一个显示书名：《Android 开发艺术探索》。
*   第二个显示作者：任玉刚。

```kotlin
@Composable
fun BookCard() {
    Column {
        Text(text = "《Android 开发艺术探索》")
        Text(text = "作者：任玉刚")
    }
}
```

### 步骤 3：运行与调试
在 `setContent` 中调用 `BookCard()`。
你会看到两行文字**垂直排列**，没有重叠。

### 步骤 4：进阶实验（嵌套布局）
现在，我们想给作者名字加一个“标签”。
修改代码，在作者名字这一行，再嵌套一个 Column（虽然这在视觉上可能有点奇怪，主要为了练习嵌套）。

```kotlin
@Composable
fun BookCard() {
    Column {
        Text(text = "《Android 开发艺术探索》")
        
        // 嵌套一个 Column
        Column {
            Text(text = "作者信息：")
            Text(text = "任玉刚")
        }
    }
}
```
**观察**：现在的结构是：
1. 书名
2. 作者信息（标题）
3. 任玉刚（名字）
它们依然是从上到下垂直排列的，因为内层 Column 也是垂直的。

**关键思考**：
如果我想让“作者信息：”和“任玉刚”显示在**同一行**（水平排列），该怎么办？
没错，这就要用到下一节的主角 —— **`Row` (水平排列)**。